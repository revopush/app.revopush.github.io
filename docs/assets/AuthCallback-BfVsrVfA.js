import{f as o,aq as h,cG as g,r as i,cF as u,cM as r,j as s,L as d,F as y,S as b}from"./index-Dzs6o6Dg.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},e=new a.Error().stack;e&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[e]="39c8f58e-56eb-484a-9950-72b15a76f0ae",a._sentryDebugIdIdentifier="sentry-dbid-39c8f58e-56eb-484a-9950-72b15a76f0ae")}catch{}})();const{Content:v}=d,E=()=>{const a=o(),{provider:e}=h(),[c]=g(),l=i.useRef(!1);return i.useEffect(()=>{const n=()=>{a("/")};return window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}},[a]),i.useEffect(()=>{if(!l.current){const n=Object.fromEntries(c.entries()),f=new URLSearchParams(n).toString();l.current=!0,u.send({hitType:"authcallabck",page:`Provider: ${e} Query: ${f}`}),r(f,e).then(t=>{a((t==null?void 0:t.originalUrl)??"/"),u.event({category:"Auth",action:`Auth done: ${(t==null?void 0:t.originalUrl)??"/"}`})}).catch(t=>{(t==null?void 0:t.status)===409&&a("/login?accountExists=true"),(t==null?void 0:t.status)===403&&a("/register?accountEmpty=true"),u.event({category:"Auth",action:`Auth callback error: ${t==null?void 0:t.status}`})})}},[a,e,c]),s.jsx(d,{children:s.jsx(v,{children:s.jsx(y,{justify:"center",align:"center",style:{height:"100vh"},vertical:!0,children:s.jsx(b,{size:"large"})})})})};export{E as default};
//# sourceMappingURL=AuthCallback-BfVsrVfA.js.map
